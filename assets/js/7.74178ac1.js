(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{176:function(t,e,s){"use strict";s.r(e);var a=s(0),r=Object(a.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Prerequisites")]),t._v(" "),s("p",[t._v("To play with "),s("strong",[t._v("Kargo")]),t._v(" you must have an operational Docker Swarm infrastructure. If you already have these, congratulations !\nIf not you may have a look at "),s("a",{attrs:{href:"https://kalisio.github.io/kaabah/",target:"_blank",rel:"noopener noreferrer"}},[s("strong",[t._v("Kaabah")]),s("OutboundLink")],1),t._v(".")])]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._m(7),t._v(" "),t._m(8),t._m(9),t._v(" "),t._m(10),t._v(" "),s("p",[t._v("It is up to you to copy your data to the different nodes. You must have to keep in mind that these data will have to be accessible by the services that you want to deploy.")]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("We can provide datasets from different sources such as public catalogs and those of our partners such as "),s("a",{attrs:{href:"https://openmaptiles.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("OpenMapTiles"),s("OutboundLink")],1),t._v(", "),s("a",{attrs:{href:"https://www.planetobserver.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("PlanetObserver"),s("OutboundLink")],1),t._v(". Do bot hesitate to contact us !")])]),t._v(" "),t._m(11),t._v(" "),s("p",[t._v("Once you have copy the datasets to the different nodes, you need to define placement constraints on the nodes to force the deployment strategy.")]),t._v(" "),t._m(12),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._m(20),t._v(" "),t._m(21)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"getting-started"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#getting-started","aria-hidden":"true"}},[this._v("#")]),this._v(" Getting started")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Using "),e("strong",[this._v("kargo")]),this._v(" is quite easy and basically the approach to setup your Geospatial infrastructure is the following:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("Prepare your infrastructure: install Kargo, provision your infrastructure with the data you want to expose, place constraints on a Swarm architecture...")]),this._v(" "),e("li",[this._v("Setup your services: build and configures the services you want to deploy")]),this._v(" "),e("li",[this._v("Manage the services: deploy, update and stop the services")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"prepare-the-infrastructure"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#prepare-the-infrastructure","aria-hidden":"true"}},[this._v("#")]),this._v(" Prepare the infrastructure")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"install-kargo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-kargo","aria-hidden":"true"}},[this._v("#")]),this._v(" Install  kargo")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("On the manager node, clone the "),e("strong",[this._v("kargo")]),this._v(" repository in the directory of your choice")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{attrs:{class:"token variable"}},[this._v("$git")]),this._v(" clone https://github.com/kalisio/kargo.git\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("On the workers worker share the "),e("code",[this._v("configs")]),this._v(" directory of the "),e("strong",[this._v("Kargo")]),this._v(" repository")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" -p /home/ubuntu/kargo/configs\nsshfs ubuntu@"),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("swam manager ip"),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(":/home/ubuntu/kargo/configs /home/ubuntu/kargo/configs -o IdentityFile"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("/home/ubuntu/.ssh/ssh.pem -o allow_other\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("SSHFS")]),t._v(" "),s("p",[t._v("To share the "),s("code",[t._v("configs")]),t._v(" directory among the workers, we rely on "),s("strong",[t._v("SSHFS")]),t._v(". If not installed on your infrastructure, you may run the following procedure:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" sshfs\n"),s("span",{attrs:{class:"token comment"}},[t._v("# Edit fuse conf to enable the allow_other option")]),t._v("\n"),s("span",{attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("nano")]),t._v(" /etc/fuse.conf and uncomment the line\n"),s("span",{attrs:{class:"token comment"}},[t._v("#user_allow_other")]),t._v("\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"provision-the-data"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#provision-the-data","aria-hidden":"true"}},[this._v("#")]),this._v(" Provision the data")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"define-placement-constraints"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#define-placement-constraints","aria-hidden":"true"}},[this._v("#")]),this._v(" Define placement constraints")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token variable"}},[t._v("$sudo")]),t._v(" docker node update --label-add postgis"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("true "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("node"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"setup-the-services"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#setup-the-services","aria-hidden":"true"}},[this._v("#")]),this._v(" Setup the services")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"configure-the-services"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configure-the-services","aria-hidden":"true"}},[this._v("#")]),this._v(" Configure the services")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[e("p",[this._v("Make a copy of our "),e("code",[this._v(".env.sample")]),this._v(" and rename it to "),e("code",[this._v(".env")])])]),this._v(" "),e("li",[e("p",[this._v("Update the file with your preferences:")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("#\n# KARGO\n#\n# This is the .env file to set up your kargo environment\n\n# The path to your datasets\nDATA_PATH=/mnt/data\n\n# Postgis configuration\nPOSTGRES_USER=postgres\nPOSTGRES_PASSWORD=postgres\nPGDATA=/mnt/data/postgis\n\n# Docker network to be used\nNETWORK=kargo\n\n# Virtual hosts \n# Uncomment and update the lines below if you use an nginx-proxy based solution in front of kargo\n#GEOSERVER_VHOST=geoserver.your-domain.com\n#MAPPROXY_VHOST=mapproxy.your-domain.com\n#TILESERVERGL_VHOST=tileservergl.your-domain.com\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"manage-the-services"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#manage-the-services","aria-hidden":"true"}},[this._v("#")]),this._v(" Manage the services")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"deploy-the-services"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deploy-the-services","aria-hidden":"true"}},[this._v("#")]),this._v(" Deploy the services")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[this._v("$./deploy-kargo.sh\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"stop-the-services"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#stop-the-services","aria-hidden":"true"}},[this._v("#")]),this._v(" Stop the services")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[this._v("$./remove-kargo.sh\n")])])])}],!1,null,null,null);r.options.__file="getting-started.md";e.default=r.exports}}]);