(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{217:function(e,t,r){e.exports=r.p+"assets/img/kargo-principle.5032ebad.svg"},241:function(e,t,r){"use strict";r.r(t);var o=r(19),a=Object(o.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"understanding-kargo"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#understanding-kargo"}},[e._v("#")]),e._v(" Understanding Kargo")]),e._v(" "),o("div",{staticClass:"custom-block warning"},[o("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),o("p",[o("strong",[e._v("Kargo")]),e._v(" mainly relies on "),o("a",{attrs:{href:"https://docs.docker.com/engine/swarm/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker Swarm"),o("OutboundLink")],1),e._v(". We assume that you are enough familiar with this technology. If not, you should take a little time to learn about it !")])]),e._v(" "),o("h2",{attrs:{id:"key-concepts"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#key-concepts"}},[e._v("#")]),e._v(" Key concepts")]),e._v(" "),o("p",[o("strong",[e._v("Kargo")]),e._v(" let you manipulate 4 kind of entities:")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("configuration")]),e._v(": a collection of everything "),o("strong",[e._v("Kargo")]),e._v(" needs to create and manage the services to deploy on the infrastructure.")]),e._v(" "),o("li",[o("strong",[e._v("Environment")]),e._v(": a set of environment variables used to specify the stacks of services to deploy and how to deploy them.")]),e._v(" "),o("li",[o("strong",[e._v("Stack")]),e._v(": a group of interrelated services that can be orchestrated and scaled together.")]),e._v(" "),o("li",[o("strong",[e._v("Service")]),e._v(": an application or a piece of application deployed on your "),o("strong",[e._v("Cluster")]),e._v(".")])]),e._v(" "),o("p",[e._v("The following image illustrates how these entities interact:")]),e._v(" "),o("p",[o("img",{attrs:{src:r(217),alt:"Kargo principle"}})]),e._v(" "),o("h2",{attrs:{id:"configuration"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#configuration"}},[e._v("#")]),e._v(" Configuration")]),e._v(" "),o("p",[e._v("As presented in the previous diagram, we distinguish three types of configuration:")]),e._v(" "),o("ul",[o("li",[e._v("the "),o("strong",[e._v("default configuration")]),e._v(": by default "),o("strong",[e._v("Kargo")]),e._v(" provides a mean to deploy preconfigure services. The settings for these services are often minimalist and you may need to overwrite them to configure the services as you wish.")]),e._v(" "),o("li",[e._v("the "),o("strong",[e._v("user configuration")]),e._v(": a directory where you store the "),o("strong",[e._v("Environment")]),e._v(" file as well as the settings of the different services you want to overwrite.")]),e._v(" "),o("li",[e._v("the "),o("strong",[e._v("merged configuration")]),e._v(": a directory where "),o("strong",[e._v("Kargo")]),e._v(" merges the two previous configuration. The directory is named "),o("code",[e._v(".kargo")]),e._v(" and is located at the root of the "),o("strong",[e._v("Kargo")]),e._v(" folder.")])]),e._v(" "),o("div",{staticClass:"custom-block tip"},[o("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),o("p",[e._v("The "),o("strong",[e._v("user configuration")]),e._v(" may store some sensitive data (passwords, api access keys...) thus we recommend to store your it on a private repository.")])]),e._v(" "),o("div",{staticClass:"custom-block warning"},[o("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),o("p",[e._v("The "),o("strong",[e._v("merged configuration")]),e._v(" must be generated before building or deploying the services. See the subcommand "),o("RouterLink",{attrs:{to:"/cli.html#configure"}},[e._v("configure")]),e._v(".")],1)]),e._v(" "),o("h2",{attrs:{id:"environment"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#environment"}},[e._v("#")]),e._v(" Environment")]),e._v(" "),o("p",[e._v("The "),o("strong",[e._v("environment")]),e._v(" is group of environment variables declared in a file named "),o("code",[e._v(".env")]),e._v(".\nIt allows to define:")]),e._v(" "),o("ul",[o("li",[e._v("the main settings of "),o("strong",[e._v("Kargo")])]),e._v(" "),o("li",[e._v("the stacks of services to deploy")]),e._v(" "),o("li",[e._v("the deployment settings for each service")])]),e._v(" "),o("p",[e._v("For convenience, a sample of an environment file is provided "),o("a",{attrs:{href:"https://github.com/kalisio/kargo/blob/master/.env.sample",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),o("OutboundLink")],1)]),e._v(" "),o("h2",{attrs:{id:"stack"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#stack"}},[e._v("#")]),e._v(" Stack")]),e._v(" "),o("p",[e._v("A "),o("strong",[e._v("stack")]),e._v(" of interrelated services that can be orchestrated and scaled together.\n"),o("strong",[e._v("Kargo")]),e._v(" provides some "),o("RouterLink",{attrs:{to:"/reference/cli.html"}},[e._v("commands")]),e._v(" to deploy and remove the stacks independently.")],1),e._v(" "),o("h2",{attrs:{id:"service"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#service"}},[e._v("#")]),e._v(" Service")]),e._v(" "),o("p",[e._v("A "),o("strong",[e._v("service")]),e._v(" is an application to be deployed over the Swarm cluster. "),o("strong",[e._v("Kargo")]),e._v(" provides the default settings for deploying the following services/applications:")]),e._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"https://https://github.com/kalisio/k-hubeau",target:"_blank",rel:"noopener noreferrer"}},[e._v("Hub'eau"),o("OutboundLink")],1)]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/kalisio/k2",target:"_blank",rel:"noopener noreferrer"}},[e._v("k2"),o("OutboundLink")],1)]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/kalisio/kano",target:"_blank",rel:"noopener noreferrer"}},[e._v("kano"),o("OutboundLink")],1)]),e._v(" "),o("li",[o("a",{attrs:{href:"https://mapproxy.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("MapProxy"),o("OutboundLink")],1)]),e._v(" "),o("li",[o("a",{attrs:{href:"https://https://mapserver.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("MapServer"),o("OutboundLink")],1)]),e._v(" "),o("li",[o("a",{attrs:{href:"https://maputnik.github.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("maputnik"),o("OutboundLink")],1)]),e._v(" "),o("li",[o("a",{attrs:{href:"https://www.mongodb.com/fr",target:"_blank",rel:"noopener noreferrer"}},[e._v("MongoDB"),o("OutboundLink")],1)]),e._v(" "),o("li",[o("a",{attrs:{href:"https://https://github.com/kalisio/k-openaq",target:"_blank",rel:"noopener noreferrer"}},[e._v("OpenAQ"),o("OutboundLink")],1)]),e._v(" "),o("li",[o("a",{attrs:{href:"https://postgis.net/",target:"_blank",rel:"noopener noreferrer"}},[e._v("PostGis"),o("OutboundLink")],1)]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/kalisio/k-seeder",target:"_blank",rel:"noopener noreferrer"}},[e._v("Seeder"),o("OutboundLink")],1)]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/kalisio/k-teleray",target:"_blank",rel:"noopener noreferrer"}},[e._v("Teleray"),o("OutboundLink")],1)]),e._v(" "),o("li",[o("a",{attrs:{href:"http://tileserver.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("TileServer GL"),o("OutboundLink")],1)]),e._v(" "),o("li",[o("a",{attrs:{href:"https://www.unidata.ucar.edu/software/thredds/current/tds/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Thredds"),o("OutboundLink")],1)]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/kalisio/k-vigicrues",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vigicrues"),o("OutboundLink")],1)]),e._v(" "),o("li",[o("a",{attrs:{href:"https://weacast.github.io/weacast-docs/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Weacast API"),o("OutboundLink")],1)]),e._v(" "),o("li",[o("a",{attrs:{href:"https://weacast.github.io/weacast-docs/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Weacast loaders"),o("OutboundLink")],1)]),e._v(" "),o("li",[o("a",{attrs:{href:"https://redis.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("redis"),o("OutboundLink")],1)])]),e._v(" "),o("div",{staticClass:"custom-block tip"},[o("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),o("p",[o("strong",[e._v("Redis")]),e._v(" is required to enable Kano and Weacast to communicate in Cloud environments using "),o("a",{attrs:{href:"https://github.com/kalisio/feathers-distributed",target:"_blank",rel:"noopener noreferrer"}},[e._v("feathers-distributed"),o("OutboundLink")],1),e._v(" under-the-hood.")])]),e._v(" "),o("p",[e._v("By default, most of the images of the services are pulled from the "),o("a",{attrs:{href:"https://hub.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker Hub"),o("OutboundLink")],1),e._v(". Meanwhile "),o("strong",[e._v("Kargo")]),e._v(" provides a mean to build some of them to ensure better customization and maintainability:")]),e._v(" "),o("ul",[o("li",[e._v("MapProxy")]),e._v(" "),o("li",[e._v("MapServer")]),e._v(" "),o("li",[e._v("Kano")]),e._v(" "),o("li",[e._v("The Weacast loaders")])])])}),[],!1,null,null,null);t.default=a.exports}}]);