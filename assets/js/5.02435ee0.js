(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{172:function(e,t,r){e.exports=r.p+"assets/img/kargo-principle.858d3157.svg"},177:function(e,t,r){"use strict";r.r(t);var n=[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"understanding-kargo"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#understanding-kargo","aria-hidden":"true"}},[this._v("#")]),this._v(" Understanding Kargo")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"key-concepts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#key-concepts","aria-hidden":"true"}},[this._v("#")]),this._v(" Key concepts")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Kargo")]),this._v(" let you manipulate 4 kind of entities:")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[r("strong",[e._v("configuration")]),e._v(": a collection of everything "),r("strong",[e._v("Kargo")]),e._v(" needs to create and manage the services to deploy on the infrastructure.")]),e._v(" "),r("li",[r("strong",[e._v("Environment")]),e._v(": a set of environment variables used to specify the stacks of services to deploy and how to deploy them.")]),e._v(" "),r("li",[r("strong",[e._v("Stack")]),e._v(": a group of interrelated services that can be orchestrated and scaled together.")]),e._v(" "),r("li",[r("strong",[e._v("Service")]),e._v(": an application or a piece of application deployed on your "),r("strong",[e._v("Cluster")]),e._v(".")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:r(172),alt:"Kargo principle"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" Configuration")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[e._v("the "),r("strong",[e._v("default configuration")]),e._v(": by default "),r("strong",[e._v("Kargo")]),e._v(" provides a mean to deploy preconfigure services. The settings for these services are often minimalist and you may need to overwrite them to configure the services as you wish.")]),e._v(" "),r("li",[e._v("the "),r("strong",[e._v("user configuration")]),e._v(": a directory where you store the "),r("strong",[e._v("Environment")]),e._v(" file as well as the settings of the different services you want to overwrite.")]),e._v(" "),r("li",[e._v("the "),r("strong",[e._v("merged configuration")]),e._v(": a directory where "),r("strong",[e._v("Kargo")]),e._v(" merges the two previous configuration. The directory is named "),r("code",[e._v(".kargo")]),e._v(" and is located at the root of the "),r("strong",[e._v("Kargo")]),e._v(" folder.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),t("p",[this._v("The "),t("strong",[this._v("user configuration")]),this._v(" may store some sensitive data (passwords, api access keys...) thus we recommend to store your it on a private repository.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"environment"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#environment","aria-hidden":"true"}},[this._v("#")]),this._v(" Environment")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("The "),t("strong",[this._v("environment")]),this._v(" is group of environment variables declared in a file named "),t("code",[this._v(".env")]),this._v(".\nIt allows to define:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("the main settings of "),t("strong",[this._v("Kargo")])]),this._v(" "),t("li",[this._v("the stacks of services to deploy")]),this._v(" "),t("li",[this._v("the deployment settings for each service")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"stack"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#stack","aria-hidden":"true"}},[this._v("#")]),this._v(" Stack")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"service"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#service","aria-hidden":"true"}},[this._v("#")]),this._v(" Service")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("A "),t("strong",[this._v("service")]),this._v(" is an application to be deployed over the Swarm cluster. "),t("strong",[this._v("Kargo")]),this._v(" provides the default settings for deploying the following applications:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("GeoServer")]),this._v(" "),t("li",[this._v("MapProxy")]),this._v(" "),t("li",[this._v("maputnik")]),this._v(" "),t("li",[this._v("The Weacast loaders")])])}],s=r(0),i=Object(s.a)({},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content"},[e._m(0),e._v(" "),r("div",{staticClass:"warning custom-block"},[r("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),r("p",[r("strong",[e._v("Kargo")]),e._v(" mainly relies on "),r("a",{attrs:{href:"https://docs.docker.com/engine/swarm/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker Swarm"),r("OutboundLink")],1),e._v(". We assume that you are enough familiar with this technology. If not, you should take a little time to learn about it !")])]),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),r("p",[e._v("The following image illustrates how these entities interact:")]),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),r("p",[e._v("As presented in the previous diagram, we distinguish three types of configuration:")]),e._v(" "),e._m(6),e._v(" "),e._m(7),e._v(" "),r("div",{staticClass:"warning custom-block"},[r("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),r("p",[e._v("The "),r("strong",[e._v("merged configuration")]),e._v(" must be generated before building or deploying the services. See the command "),r("router-link",{attrs:{to:"./../cli.html#make-kargo"}},[e._v("make-kargo")]),e._v(".")],1)]),e._v(" "),e._m(8),e._v(" "),e._m(9),e._v(" "),e._m(10),e._v(" "),r("p",[e._v("For convenience, a sample of an environment file is provided "),r("a",{attrs:{href:"https://github.com/kalisio/kargo/blob/master/.env.sample",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),r("OutboundLink")],1)]),e._v(" "),e._m(11),e._v(" "),r("p",[e._v("A "),r("strong",[e._v("stack")]),e._v(" of interrelated services that can be orchestrated and scaled together.\n"),r("strong",[e._v("Kargo")]),e._v(" provides some "),r("router-link",{attrs:{to:"./../reference/cli.html"}},[e._v("commands")]),e._v(" to deploy and remove the stacks independently.")],1),e._v(" "),e._m(12),e._v(" "),e._m(13),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"http://geoserver.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("GeoServer"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://mapproxy.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("MapProxy"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://maputnik.github.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("maputnik"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://www.mongodb.com/fr",target:"_blank",rel:"noopener noreferrer"}},[e._v("MongoDB"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://postgis.net/",target:"_blank",rel:"noopener noreferrer"}},[e._v("PostGis"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/kalisio/k-seeder",target:"_blank",rel:"noopener noreferrer"}},[e._v("Seeder"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/kalisio/k-teleray",target:"_blank",rel:"noopener noreferrer"}},[e._v("Teleray"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"http://tileserver.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("TileServer GL"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://www.unidata.ucar.edu/software/thredds/current/tds/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Thredds"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/kalisio/k-vigicrues",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vigicrues"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://weacast.github.io/weacast-docs/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Weacast API"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://weacast.github.io/weacast-docs/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Weacast loaders"),r("OutboundLink")],1)])]),e._v(" "),r("p",[e._v("By default, most of the images of the services are pulled from the "),r("a",{attrs:{href:"https://hub.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker Hub"),r("OutboundLink")],1),e._v(". Meanwhile "),r("strong",[e._v("Kargo")]),e._v(" provides a mean to build some of them to ensure better maintainability:")]),e._v(" "),e._m(14)])},n,!1,null,null,null);i.options.__file="understanding-kargo.md";t.default=i.exports}}]);